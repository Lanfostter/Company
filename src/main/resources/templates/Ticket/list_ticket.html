<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>Home</title>
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
	crossorigin="anonymous">
<script
	src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css"
	crossorigin="anonymous"></script>
<link
	href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta2/css/all.min.css"
	rel="stylesheet">
<link th:href="@{/css/style.css}" rel="stylesheet">
</head>
<body>
	<div class="container-fluid">
		<div class="row header">
			<div class="col-12 col-sm-3 col-md-2">
				<img th:src="@{/img/1024.png}" class="logo" />
			</div>
			<div class="col-12 col-sm-9 col-md-10">
				<h1>He thong cham soc khach hang</h1>
			</div>
		</div>
		<div class="row body">
			<div class="col-12 col-sm-3">
				<ul class="list-group">
					<li class="list-group-item">Quản lý khiếu nại</li>
					<li class="list-group-item"><a th:href="@{/department/list}">Quản
							lý phòng ban</a></li>
					<li class="list-group-item">Thoát</li>
				</ul>
			</div>

			<div class="col-12 col-sm-9">
				<div class="row">
					<form>
						<div class="row">
							<div class="col-12 col-md-4">
								<input type="text" class="form-control"
									placeholder="Tìm kiếm khiếu nại:...">
							</div>
							<div class="col-12 col-md-2">
								<div class="row">
									<label class="col">Phòng ban:</label> <select
										class="form-select col">
										<option th:each="item : ${departments}" th:value="${item.id}"
											th:text="${item.name}"></option>
									</select>
								</div>
							</div>
							<div class="col-12 col-md-2">
								<div class="row">
									<label class="col">From:</label> <input type="date"
										class="form-control col" placeholder="dd/MM/yyyy">
								</div>
							</div>
							<div class="col-12 col-md-2">
								<div class="row">
									<label class="col">To:</label> <input type="date"
										class="form-control col" placeholder="dd/MM/yyyy">
								</div>
							</div>
							<div class="col-12 col-md-1">
								<button class="btn btn-primary">Search</button>
							</div>
							<div class="col-12 col-md-1">
								<a class="btn btn-secondary" th:href="@{/ticket/add}">Add</a>
							</div>
						</div>
					</form>
				</div>
				<div class="row">
					<table class="table table-bordered">
						<thead>
							<tr>
								<th>ID</th>
								<th>Phone</th>
								<th>Complain</th>
								<th>Receive Date</th>
								<th>Reply</th>
								<th>Status</th>
								<th>Handle Date</th>
								<th>Department</th>
								<th>Edit</th>
								<th>Delete</th>
							</tr>
						</thead>
						<tbody>
							<tr th:each="t : ${tickets.pageList}">
								<td colspan="1" class="" th:text="${t.id}"></td>
								<td colspan="1" th:text="${t.phone}"></td>
								<td colspan="1" th:text="${t.complain}"></td>
								<td colspan="1" th:text="${t.receivedate}"></td>
								<td colspan="1" th:text="${t.reply}"></td>
								<td colspan="1" th:text="${t.status}"></td>
								<td colspan="1" th:text="${t.handledate}"></td>
								<td colspan="1" th:text="${t.departmentEntity?.name}"></td>
								<td colspan="1"><a
									th:href="@{'/ticket/update?id='+${t.id}}"><i
										class="fa-solid fa-marker text-dark"></i></a></td>
								<td><a th:href="@{'/ticket/delete?id=' + ${t.id}}"><i
										class="fa-solid fa-trash-can text-danger"></i></a></td>
							</tr>
						</tbody>
					</table>
					<ul class="pagination">
						<li
							th:class="${currentIndex == 1}?'page-item disabled': 'page-item'"><a
							class="page-link"
							th:href="@{'/ticket/page/'+ ${currentIndex - 1}}">Previous</a></li>
						<li th:each="item : ${#numbers.sequence(beginIndex, endIndex)}"
							th:class="${currentIndex == 1}?'page-item active':'page-item'"><a
							class="page-link" th:href="@{'/ticket/page/'+ ${item}}"
							th:text="${item}"></a></li>
						<li
							th:class="${currentIndex == totalPageCount}?'page-item disabled': 'page-item'"><a
							class="page-link"
							th:href="@{'/ticket/page/'+ ${currentIndex + 1}}">Next</a></li>
					</ul>
				</div>
			</div>
		</div>
		<div class="row footer">
			<p>Design by JMaster</p>
		</div>
	</div>
	<script
		src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
		integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
		crossorigin="anonymous"></script>
	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
		integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF"
		crossorigin="anonymous"></script>
</body>
</html>